<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Demo: Apple vs Banana Classifier</title>
    <script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs@4.11.0/dist/tf.min.js"></script>
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>üçé üçå AI Image Classifier</h1>
            <p class="subtitle">Watch a neural network learn in real-time</p>
        </header>

        <div class="main-content">
            <!-- Left Panel: Controls & Info -->
            <div class="panel controls-panel">
                <h2>Neural Network<span id="model-status-badge" class="model-status-badge untrained">‚ö†Ô∏è Untrained (Random Weights)</span></h2>
                <div class="model-info">
                    <div class="info-item">
                        <span class="label">Architecture:</span>
                        <span class="value">CNN (3 conv layers)</span>
                    </div>
                    <div class="info-item">
                        <span class="label">Parameters:</span>
                        <span class="value" id="param-count">~2,400</span>
                    </div>
                    <div class="info-item">
                        <span class="label">Training Images:</span>
                        <span class="value" id="image-count">Loading...</span>
                    </div>
                </div>

                <button id="train-btn" class="btn btn-primary">Start Training</button>
                <button id="stop-btn" class="btn btn-secondary" disabled>Stop Training</button>
                <button id="open-data-btn" class="btn btn-info">üìÇ View Training Data</button>

                <div class="status" id="status">Ready to train</div>

                <div class="test-section">
                    <h3>Test Your Own Image</h3>
                    <input type="file" id="image-upload" accept="image/*">
                    <div id="test-result"></div>
                    <canvas id="test-canvas" style="display:none;"></canvas>
                </div>
            </div>

            <!-- Right Panel: Metrics & Visualization -->
            <div class="panel metrics-panel">
                <h2>Training Metrics</h2>

                <div class="metric-box">
                    <div class="metric-label">Epoch</div>
                    <div class="metric-value" id="epoch">0 / 20</div>
                </div>

                <div class="metrics-grid">
                    <div class="metric-box">
                        <div class="metric-label">Loss</div>
                        <div class="metric-value" id="loss">--</div>
                        <div class="metric-trend" id="loss-trend"></div>
                    </div>
                    <div class="metric-box">
                        <div class="metric-label">Accuracy</div>
                        <div class="metric-value" id="accuracy">--</div>
                        <div class="metric-trend" id="acc-trend"></div>
                    </div>
                </div>

                <div class="chart-container">
                    <canvas id="loss-chart" width="400" height="200"></canvas>
                </div>

                <div class="predictions-section">
                    <h3>Live Predictions</h3>
                    <div id="predictions-grid"></div>
                </div>
            </div>
        </div>

        <footer>
            <p>Built with TensorFlow.js | Neural Network Training Demo</p>
        </footer>
    </div>

    <script src="js/app.js?v=<?php echo time(); ?>"></script>
</body>
</html>
